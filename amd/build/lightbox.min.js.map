{"version":3,"file":"lightbox.min.js","sources":["../src/lightbox.js"],"sourcesContent":["define(['jquery'], function($) {\n    'use strict';\n\n    const SEL = {\n        link: '.pptbook-zoom',\n        modal: '#pptbook-modal',\n        img:   '#pptbook-modal-img'\n    };\n\n    const open = (src, alt) => {\n        const $m = $(SEL.modal);\n        const $img = $(SEL.img);\n        if (!src) {\n            return;\n        }\n        $img.attr('src', src);\n        if (alt) {\n            $img.attr('alt', alt);\n        }\n        $m.css('display', 'flex').attr('aria-hidden', 'false');\n        $('body').addClass('pptbook-modal-open');\n    };\n\n    const close = () => {\n        const $m = $(SEL.modal);\n        const $img = $(SEL.img);\n        $m.css('display', 'none').attr('aria-hidden', 'true');\n        $img.removeAttr('src'); // Empty-src avoiding.\n        $('body').removeClass('pptbook-modal-open');\n    };\n\n    const bind = () => {\n        // Thumbnails klick -> open.\n        $(document).on('click', SEL.link, function(e) {\n            e.preventDefault();\n            const $a = $(this);\n            const src = $a.data('full') || $a.attr('href');\n            const alt = $a.find('img').attr('alt') || '';\n            open(src, alt);\n        });\n\n        // Clic to image -> close.\n        $(document).on('click', SEL.modal, function(e) {\n            if (e.target.id === 'pptbook-modal' || e.target.id === 'pptbook-modal-img') {\n                close();\n            }\n        });\n\n        // ESC close.\n        $(document).on('keyup', function(e) {\n            if (e.key === 'Escape') {\n                close();\n            }\n        });\n    };\n\n    return {init: bind};\n});\n"],"names":["define","$","SEL","close","$m","$img","css","attr","removeAttr","removeClass","init","document","on","e","preventDefault","$a","this","src","alt","addClass","open","data","find","target","id","key"],"mappings":"AAAAA,8BAAO,CAAC,WAAW,SAASC,SAGlBC,SACI,gBADJA,UAEK,iBAFLA,QAGK,qBAiBLC,MAAQ,WACJC,GAAKH,EAAEC,WACPG,KAAOJ,EAAEC,SACfE,GAAGE,IAAI,UAAW,QAAQC,KAAK,cAAe,QAC9CF,KAAKG,WAAW,OAChBP,EAAE,QAAQQ,YAAY,6BA4BnB,CAACC,KAzBK,KAETT,EAAEU,UAAUC,GAAG,QAASV,UAAU,SAASW,GACvCA,EAAEC,uBACIC,GAAKd,EAAEe,MA1BR,EAACC,IAAKC,aACTd,GAAKH,EAAEC,WACPG,KAAOJ,EAAEC,SACVe,MAGLZ,KAAKE,KAAK,MAAOU,KACbC,KACAb,KAAKE,KAAK,MAAOW,KAErBd,GAAGE,IAAI,UAAW,QAAQC,KAAK,cAAe,SAC9CN,EAAE,QAAQkB,SAAS,wBAkBfC,CAFYL,GAAGM,KAAK,SAAWN,GAAGR,KAAK,QAC3BQ,GAAGO,KAAK,OAAOf,KAAK,QAAU,OAK9CN,EAAEU,UAAUC,GAAG,QAASV,WAAW,SAASW,GACpB,kBAAhBA,EAAEU,OAAOC,IAA0C,sBAAhBX,EAAEU,OAAOC,IAC5CrB,WAKRF,EAAEU,UAAUC,GAAG,SAAS,SAASC,GACf,WAAVA,EAAEY,KACFtB"}